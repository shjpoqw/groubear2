<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="roomMapper">
	
	
	<resultMap id ="RoomResultSet" type="ReserveRoom">
		<id property="reserveNo" column="reserve_no"/>
		
		<result property="startDate" column="start_date"/>
		<result property="endDate" column="end_date"/>
		<result property="roomContent" column="room_content"/>
		<result property="empNo" column="emp_no"/>
		<result property="beamCode" column="beam_code"/>
		<result property="roomNo" column="room_no"/>
		<result property="roomTitle" column="room_title"/>
	</resultMap>
	
	
		
	
	
	<insert id="insertReserve" parameterType="ReserveRoom">
		insert into reserve_room
		values(SEQ_RESERVE_NO_ROOM.nextval,to_date(#{startDate},'YYYY-MM-DD HH24:MI'),to_date(#{endDate},'YYYY-MM-DD HH24:MI'),
		#{roomContent},#{empNo},#{beamCode},#{roomNo},#{roomTitle})
		
	</insert>
	
	<select id="selectDate" parameterType="ReserveRoom" resultMap="RoomResultSet" >
		select * 
		from reserve_room
		where  START_DATE between to_date(#{startDate},'YYYY-MM-DD') and to_date(#{endDate},'YYYY-MM-DD')
		OR  END_DATE between to_date(#{startDate},'YYYY-MM-DD') and to_date(#{endDate},'YYYY-MM-DD')
	
	</select>
</mapper>

